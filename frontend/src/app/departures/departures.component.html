<div class="container">
  <h1 class="title">Swiss Transport Dashboard</h1>

  <div class="search-box">
    <input
      (keyup.enter)="search()"
      [(ngModel)]="stationName"
      class="input"
      placeholder="Enter station name"
    />
    <button (click)="search()" class="button">Search</button>
  </div>

  @if (errorMessage) {
  <div class="error-message">
    {{ errorMessage }}
  </div>
  }

  @if (departures.length) {
  <div class="results">
    <h2 class="subtitle">Departures for {{ stationName }}</h2>
    <table class="table">
      <thead>
      <tr>
        <th>Line</th>
        <th>Destination</th>
        <th>Time</th>
      </tr>
      </thead>
      <tbody>
      @for (dep of departures; track dep) {
      <tr>
        <td>{{ dep.name }}</td>
        <td>{{ dep.to }}</td>
        <td>{{ dep.stop.departure | date:'shortTime' }}</td>
      </tr>
      }
      </tbody>
    </table>
  </div>
  }
</div>
